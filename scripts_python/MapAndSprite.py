# -*- coding: utf-8 -*-
"""
Created on Mon May  6 11:31:09 2024

@author: timot
"""

#from PyQt5 import QtWidgets
from PyQt5 import QtCore
from PyQt5.QtWidgets import QLabel
from PyQt5.QtGui import QPixmap
from POKEMON import *
from Extraction_des_donnes import *
from GUI_Combat_code import *

Limite_h = [[-1.0, 0], [-0.5, 0],[0.0, 0],[0.5, 0],[0.5, -1.5],[1.0, -1.5],[1.5, -9.5],[2.0, -9.5],[2.5, -9.5],[3.0, -9.5],[3.5, 0.0],
            [4.0, 3.0],[4.5, 3.0],[5.0, 3.0],[5.5, 3.0],[6.0, 3.0],[6.5, 3.0],[7.0, 3.0],[7.5, 3.0],[8.0, 3.0],[8.5, 3.0],[9.0, 3.0],
            [9.5, 3.0],[10.0, 3.0],[10.5, 3.0],[11.0, 3.0],[11.5, -7.0],[12.0, -7.0],[12.5, -7.0],[13.0, -7.0],[13.5, 3.0],[14.0, 3.0],
            [14.5, 3.0],[15.0, 3.0],[15.5, 3.0],[16.0, 3.0],[16.5, 3.0],[17.0, 3.0],[17.5, 3.0],[18.0, 3.0],[18.5, 3.0],[19.0, 3.0],
            [19.5, 3.0],[20.0, 3.0],[20.5, 3.0],[21.0, 3.0],[21.5, 3.0],[22.0, 3.0],[22.5, 3.0],[23.0, 3.0],[23.5, 3.0],[24.0, 3.0],
            [24.5, 3.0],[25.0, 3.0],[25.5, 3.0],[26.0, 3.0],[26.5, 3.0],[27.0, 3.0],[24.0, -8.5],[24.5, -8.5],[25.0, -8.5],[25.5, -8.5],
            [26.0, -8.5],[26.5, -8.5],[27.0, -8.5],[24.0, -26.0],[24.5, -26.0],[25.0, -26.0],[25.5, -26.0],[26.0, -26.0],[26.5, -26.0],
            [27.0, -26.0],[-1.0, -26.0],[-0.5, -26.0],[0.0, -26.0],[0.5, -26.0],[1.0, -26.0],[1.5, -26.0],[2.0, -26.0],[2.5, -26.0],
            [3.0, -26.0],[3.5, -26.0],[4.0, -25.5],[-1.0, -16.5],[-0.5, -16.5],[0.0, -16.5],[0.5, -16.5],[1.0, -16.5],[1.5, -16.5],
            [2.0, -16.5],[2.5, -16.5],[3.0, -16.5],[3.5, -16.5],[4.0, -16.5],[4.5, -16.5],[5.0, -16.5],[5.5, -16.5],[6.0, -16.5],
            [6.5, -16.5],[7.0, -16.5],[7.5, -19.0],[8.0, -19.0],[8.5, -19.0],[9.0, -19.0],[9.5, -19.0],[10.0, -19.0],[10.5, -19.0],
            [11.0, -19.0],[11.5, -19.0],[12.0, -19.0],[12.5, -19.0],[13.0, -19.0],[13.5, -19.0],[14.0, -19.0],[14.5, -19.0],[15.0, -19.0],
            [15.5, -19.0],[16.0, -19.0],[16.5, -25.5],[17.0, -26.0],[17.5, -26.0],[18.0, -26.0],[18.5, -26.0],[19.0, -26.0],[19.5, -26.0],
            [20.0, -26.0],[20.5, -25.5],[6.5, -9.0],[7.0, -9.0],[7.5, -12.0],[8.0, -12.0],[8.5, -12.0],[9.0, -12.0],[9.5, -12.0],
            [10.0, -12.0],[10.5, -12.0],[-1.0, -2.0],[-0.5, 0.0],[0.0, 0.0],[16.0, -2.5],[16.5, -2.5],[17.0, -2.5],[17.5, -2.5],
            [18.0, -2.5],[18.5, -2.5],[19.0, -2.5],[19.5, -2.5],[20.0, -2.5],[20.5, -2.5],[21.0, -2.5],[21.5, -2.5],[22.0, -2.5],
            [22.5, -2.5],[23.0, -2.5],[23.5, -2.5],[24.0, -2.5],[24.5, -2.5],[25.0, -2.5],[16.0, -2.5],[16.5, -2.5],[17.0, -2.5],
            [17.5, -2.5],[18.0, -2.5],[18.5, -2.5],[19.0, -2.5],[19.5, -2.5],[20.0, -2.5],[20.5, -2.5],[21.0, -2.5],[21.5, -2.5],
            [22.0, -2.5],[22.5, -2.5],[23.0, -2.5],[23.5, -2.5],[24.0, -2.5],[24.5, -2.5],[23.5, -19.0],[24.0, -19.0],[24.5, -19.0],
            [25.0, -19.0],[15.5, -27.5],[13.5, -27.5],[14.0, -27.5],[14.5, -27.5],[15.0, -27.5],[15.5, -27.5],[7.5, -26.0],[8.0, -26.0],
            [8.5, -26.0],[9.0, -26.0],[9.5, -26.0],[10.0, -26.0],[10.5, -26.0],[11.0, -26.0],[11.5, -26.0],[12.0, -26.0],[12.5, -26.0],
            [7.0, -26.0]]


Limite_b = [[0.5, -0.5],[27.0, -3.5],[26.5, -3.5],[26.0, -3.5],[25.5, -3.5],[25.0, -3.5],[24.5, -3.5],[24.0, -3.5],[27.0, -20.0],
            [26.5, -20.0],[26.0, -20.0],[26.0, -20.0],[25.5, -20.0],[25.0, -20.0],[24.5, -20.0],[24.0, -20.0],[27.0, -29.0],[26.5, -29.0],
            [26.0, -29.0],[25.5, -29.0],[25.0, -29.0],[24.5, -29.0],[24.0, -29.0],[24.0, -29.0],[23.5, -29.0],[23.0, -29.0],[22.5, -29.0],
            [22.0, -29.0],[21.5, -29.0],[21.0, -29.0],[20.5, -29.0],[20.0, -29.0],[19.5, -29.0],[19.0, -29.0],[18.5, -29.0],[18.0, -29.0],
            [17.5, -29.0],[17.0, -29.0],[16.5, -29.5],[16.5, -29.5],[16.0, -29.5],[15.5, -29.5],[15.0, -29.5],[14.5, -29.5],[14.0, -29.5],
            [13.5, -29.5],[13.0, -29.5],[12.5, -29.0],[12.0, -29.0],[11.5, -29.0],[11.0, -29.0],[10.5, -29.0],[10.0, -29.0],[9.5, -29.0],
            [9.0, -29.0],[8.5, -29.0],[8.0, -29.0],[7.5, -29.0],[7.0, -29.0],[6.5, -29.0],[6.0, -29.0],[5.5, -29.0],[5.0, -29.0],[4.5, -29.0],
            [4.0, -29.0],[3.5, -29.0],[3.0, -29.0],[2.5, -29.0],[2.0, -29.0],[1.5, -29.0],[1.0, -29.0],[0.5, -29.0],[0.0, -29.0],
            [-0.5, -29.0],[-1.0, -29.0],[4.0, -19.0],[3.5, -19.0],[3.0, -19.0],[2.5, -19.0],[2.0, -19.0],[1.5, -19.0],[1.0, -19.0],
            [0.5, -19.0],[0.0, -19.0],[-0.5, -19.0],[-1.0, -19.0],[20.5, -5.0],[20.0, -5.0],[19.5, -5.0],[19.0, -5.0],[18.5, -5.0],
            [18.0, -5.0],[17.5, -5.0],[17.0, -5.0],[16.5, -5.5],[16.0, -8.0],[15.5, -8.0],[15.0, -8.0],[14.5, -8.0],[14.0, -8.0],
            [13.5, -8.0],[13.0, -8.0],[12.5, -8.0],[12.0, -8.0],[11.5, -8.0],[11.0, -8.0],[10.5, -8.0],[10.0, -8.0],[9.5, -7.5],
            [9.0, -7.5],[8.5, -7.5],[8.0, 0.0],[7.5, 0.5],[7.0, 0.5],[6.5, 0.0],[10.5, -14.0],[10.0, -14.0],[9.5, -14.0],[9.0, -14.0],
            [8.5, -14.0],[8.0, -14.0],[7.5, -13.0],[7.0, -13.0],[6.5, -13.0],[6.0, -13.0],[5.5, -13.0],[5.0, -13.0],[4.5, -13.0],
            [4.0, -13.0],[3.5, -13.0],[3.0, -13.0],[2.5, -13.0],[2.0, -13.0],[2.0, -13.0],[1.5, -13.0],[1.0, -13.0],[0.5, -13.0],
            [0.0, -13.0],[-0.5, -13.0],[-1.0, -13.0],[25.0, 2.0],[24.5, 2.0],[24.0, 2.0],[23.5, 2.0],[23.0, 2.0],[22.5, 2.0],[22.0, 2.0],
            [21.5, 2.0],[21.0, 2.0],[20.5, 2.0],[20.0, 2.0],[19.5, 2.0],[19.0, 2.0],[18.5, 2.0],[18.0, 2.0],[17.5, 2.0],[17.0, 2.0],
            [16.5, 2.0],[16.0, 2.0],[24.5, -10.5],[24.0, -10.5],[23.5, -11.0],[15.5, -25.5],[15.0, -25.0],[14.5, -25.0],[14.0, -25.0],
            [13.5, -25.5],[12.5, -20.0],[12.0, -20.0],[11.5, -20.0],[11.0, -20.0],[10.5, -20.0],[10.0, -20.0],[9.5, -20.0],[9.0, -20.0],
            [8.5, -20.0],[8.0, -20.0],[7.5, -20.0],[7.0, -20.0]]

Limite_g = [[-1.0, 0],[3.5, -9.0],[3.5, -8.5],[3.5, -8.0],[3.5, -7.5],[3.5, -7.0],[3.5, -6.5],[3.5, -6.0],[3.5, -5.5],[3.5, -5.0],
            [3.5, -4.5],[3.5, -4.0],[3.5, -3.5],[3.5, -3.0],[3.5, -2.5],[3.5, -2.0],[3.5, -1.5],[3.5, -1.0],[3.5, -0.5],[3.5, 0.0],
            [4.0, 0.5],[4.0, 1.0],[4.0, 1.5],[4.0, 2.0],[4.0, 2.5],[13.5, -6.5],[13.5, -6.0],[13.5, -5.5],[13.5, -5.0],[13.5, -4.5],
            [13.5, -4.0],[13.5, -3.5],[13.5, -3.0],[13.5, -2.5],[13.5, -2.0],[13.5, -1.5],[13.5, -1.0],[13.5, -0.5],[13.5, 0.0],
            [13.5, 0.5],[13.5, 1.0],[13.5, 1.5],[13.5, 2.0],[13.5, 2.5],[13.5, 3.0],[13.0, -29.5],[-1.0, -29.0],[-1.0, -28.5],
            [-1.0, -28.0],[-1.0, -27.5],[-1.0, -27.0],[-1.0, -26.5],[-1.0, -26.0],[4.5, -25.0],[4.5, -24.5],[4.5, -24.0],[4.5, -23.5],
            [4.5, -23.0],[4.5, -22.5],[4.5, -22.0],[4.5, -21.5],[4.5, -21.0],[4.5, -20.5],[4.5, -20.0],[4.5, -19.5],[-1.0, -19.0],
            [-1.0, -18.5],[-1.0, -18.0],[-1.0, -17.5],[-1.0, -17.0],[-1.0, -16.5],[20.5, -25.5],[21.0, -25.0],[21.0, -24.5],[21.0, -24.0],
            [21.0, -23.5],[21.0, -23.0],[21.0, -22.5],[21.0, -22.0],[21.0, -21.5],[21.0, -21.0],[21.0, -20.5],[21.0, -20.0],[21.0, -19.5],
            [21.0, -19.0],[21.0, -18.5],[21.0, -18.0],[21.0, -17.5],[21.0, -17.0],[21.0, -16.5],[21.0, -16.0],[21.0, -15.5],[21.0, -15.0],
            [21.0, -14.5],[21.0, -14.0],[21.0, -13.5],[21.0, -13.0],[21.0, -12.5],[21.0, -12.0],[21.0, -11.5],[21.0, -11.0],[21.0, -10.5],
            [21.0, -10.0],[21.0, -9.5],[21.0, -9.0],[21.0, -8.5],[21.0, -8.0],[21.0, -7.5],[21.0, -7.0],[21.0, -6.5],[21.0, -6.0],
            [21.0, -5.5],[10.0, -8.0],[8.5, -7.5],[8.5, -7.0],[8.5, -6.5],[8.5, -6.0],[8.5, -5.5],[8.5, -5.0],[8.5, -4.5],[8.5, -4.0],
            [8.5, -3.5],[8.5, -3.0],[8.5, -2.5],[8.5, -2.0],[8.5, -1.5],[8.5, -1.0],[8.5, -0.5],[8.0, 0.0],[8.0, -14.0],[8.0, -13.5],
            [-1.0, -13.0],[-1.0, -12.5],[-1.0, -12.0],[-1.0, -11.5],[-1.0, -11.0],[-1.0, -10.5],[-1.0, -10.0],[-1.0, -9.5],[-1.0, -9.0],
            [-1.0, -8.5],[-1.0, -8.0],[-1.0, -7.5],[-1.0, -7.0],[-1.0, -6.5],[-1.0, -6.0],[-1.0, -5.5],[-1.0, -5.0],[-1.0, -4.5],
            [-1.0, -4.0],[-1.0, -3.5],[-1.0, -3.0],[-1.0, -2.5],[-1.0, -2.0],[-0.5, -1.5],[-0.5, -1.0],[-0.5, -0.5],[25.5, -2.0],
            [25.5, -1.5],[25.5, -1.0],[25.5, -0.5],[25.5, 0.0],[25.5, 0.5],[25.5, 1.0],[25.5, 1.5],[25.5, -18.5],[25.5, -18.0],
            [25.5, -17.5],[25.5, -17.0],[25.5, -16.5],[25.5, -16.0],[25.5, -15.5],[25.5, -15.0],[25.5, -14.5],[25.5, -14.0],[25.5, -13.5],
            [25.5, -13.0],[25.5, -12.5],[25.5, -12.0],[25.5, -11.5],[16.0, -27.0],[16.0, -26.5],[16.0, -26.0],[15.5, -25.5],[13.0, -25.5],
            [13.0, -25.0],[13.0, -24.5],[13.0, -24.0],[13.0, -23.5],[13.0, -23.0],[13.0, -22.5],[13.0, -22.0],[13.0, -21.5],[13.0, -21.0],
            [13.0, -20.5]]

Limite_d = [[0.5, 0],[0.5, -0.5],[0.0, -1.0],[1.0, -1.5],[1.0, -2.0],[1.0, -2.5],[1.0, -3.0],[1.0, -3.5],[1.0, -4.0],[1.0, -4.5],
            [1.0, -5.0],[1.0, -5.5],[1.0, -6.0],[1.0, -6.5],[1.0, -7.0],[1.0, -7.5],[1.0, -8.0],[1.0, -8.5],[1.0, -9.0],[11.0, 3.0],
            [11.0, 2.5],[11.0, 2.0],[11.0, 1.5],[11.0, 1.0],[11.0, 0.5],[11.0, 0.0],[11.0, -0.5],[11.0, -1.0],[11.0, -1.5],[11.0, -2.0],
            [11.0, -2.5],[11.0, -3.0],[11.0, -3.5],[11.0, -4.0],[11.0, -4.5],[11.0, -5.0],[11.0, -5.5],[11.0, -6.0],[11.0, -6.5],
            [27.0, 3.0],[27.0, 2.5],[27.0, 2.0],[27.0, 1.5],[27.0, 1.0],[27.0, 0.5],[27.0, 0.0],[27.0, -0.5],[27.0, -1.0],[27.0, -1.5],
            [27.0, -2.0],[27.0, -2.5],[27.0, -3.0],[27.0, -3.5],[23.5, -4.5],[23.5, -5.0],[23.5, -5.5],[23.5, -6.0],[23.5, -6.5],
            [23.5, -7.0],[23.5, -7.5],[23.5, -8.0],[27.0, -8.5],[27.0, -9.0],[27.0, -9.5],[27.0, -10.0],[27.0, -10.5],[27.0, -11.0],
            [27.0, -11.5],[27.0, -12.0],[27.0, -12.5],[27.0, -13.0],[27.0, -13.5],[27.0, -14.0],[27.0, -14.5],[27.0, -15.0],[27.0, -15.5],
            [27.0, -16.0],[27.0, -16.5],[27.0, -17.0],[27.0, -17.5],[27.0, -18.0],[27.0, -18.5],[27.0, -19.0],[27.0, -19.5],[27.0, -20.0],
            [23.5, -20.5],[23.5, -21.0],[23.5, -21.5],[23.5, -22.0],[23.5, -22.5],[23.5, -23.0],[23.5, -23.5],[23.5, -24.0],[23.5, -24.5],
            [23.5, -25.0],[23.5, -25.5],[27.0, -26.0],[27.0, -26.5],[27.0, -27.0],[27.0, -27.5],[27.0, -28.0],[27.0, -28.5],[27.0, -29.0],
            [16.5, -29.5],[7.0, -16.5],[7.0, -17.0],[7.0, -17.5],[7.0, -18.0],[7.0, -18.5],[16.0, -19.0],[16.0, -19.5],[16.0, -20.0],
            [16.0, -20.5],[16.0, -21.0],[16.0, -21.5],[16.0, -22.0],[16.0, -22.5],[16.0, -23.0],[16.0, -23.5],[16.0, -24.0],[16.0, -24.5],
            [16.0, -25.0],[16.5, -25.5],[16.5, -5.5],[16.0, -6.0],[16.0, -6.5],[16.0, -7.0],[16.0, -7.5],[16.0, -8.0],[6.5, 0.0],
            [6.0, -0.5],[6.0, -1.0],[6.0, -1.5],[6.0, -2.0],[6.0, -2.5],[6.0, -3.0],[6.0, -3.5],[6.0, -4.0],[6.0, -4.5],[6.0, -5.0],
            [6.0, -5.5],[6.0, -6.0],[6.0, -6.5],[6.0, -7.0],[6.0, -7.5],[6.0, -8.0],[6.0, -8.5],[7.0, -9.0],[7.0, -9.5],[7.0, -10.0],
            [7.0, -10.5],[7.0, -11.0],[10.5, -12.0],[10.5, -12.5],[10.5, -13.0],[10.5, -13.5],[10.5, -14.0],[15.5, 1.5],[15.5, 1.0],
            [15.5, 0.5],[15.5, 0.0],[15.5, -0.5],[15.5, -1.0],[15.5, -1.5],[15.5, -2.0],[23.5, -11.0],[23.0, -11.5],[23.0, -12.0],
            [23.0, -12.5],[23.0, -13.0],[23.0, -13.5],[23.0, -14.0],[23.0, -14.5],[23.0, -15.0],[23.0, -15.5],[23.0, -16.0],[23.0, -16.5],
            [23.0, -17.0],[23.0, -17.5],[23.0, -18.0],[23.0, -18.5],[13.5, -25.5],[13.0, -26.0],[13.0, -26.5],[13.0, -27.0],[13.0, -27.5],
            [6.5, -20.5],[6.5, -21.0],[6.5, -21.5],[6.5, -22.0],[6.5, -22.5],[6.5, -23.0],[6.5, -23.5],[6.5, -24.0],[6.5, -24.5],
            [6.5, -25.0],[6.5, -25.5]]

class Map() : 
    
    def __init__(self, mainWindow, mapPath) : 
        self.map = QLabel(mainWindow)
        self.map.setGeometry(QtCore.QRect(-75, -25, 2000, 2000))
        self.map.setText("")
        self.map.setScaledContents(True)
        self.map.setObjectName("map")
        self.map.setPixmap(QPixmap(mapPath))
        self.mainWindow = mainWindow
        
    # def accesible():
        
    #     if -1 < joueur.position[0] 
        
        
    def move(self, direction) : 
        pos = self.map.geometry()
        
        if direction == "up" and joueur.position not in Limite_h:
            pos.translate(0, 25)
            joueur.position[1] += 0.5
            
            self.map.setGeometry(pos)
            self.mainWindow.player.sprite.setPixmap(QPixmap("../sprites_ow/player_ow_up.png"))
            
        if direction == "down" and joueur.position not in Limite_b:
            pos.translate(0, -25)
            joueur.position[1] -= 0.5
            
            self.map.setGeometry(pos)
            self.mainWindow.player.sprite.setPixmap(QPixmap("../sprites_ow/player_ow_down.png"))
            
        if direction == "left" and joueur.position not in Limite_g :
            pos.translate(25, 0)
            joueur.position[0] -= 0.5
            
            self.map.setGeometry(pos)
            self.mainWindow.player.sprite.setPixmap(QPixmap("../sprites_ow/player_ow_left.png"))
            
        if direction == "right" and joueur.position not in Limite_d :
            pos.translate(-25, 0)
            joueur.position[0] += 0.5
            
            self.map.setGeometry(pos)
            self.mainWindow.player.sprite.setPixmap(QPixmap("../sprites_ow/player_ow_right.png"))
            
       
class Player() : 
    
    def __init__(self, mainWindow, spritePath) :
        self.sprite = QLabel(mainWindow)
        self.sprite.setGeometry(250, 250, 50, 50)
        self.sprite.setText("")
        self.sprite.setScaledContents(True)
        self.sprite.setPixmap(QPixmap(spritePath))
        self.sprite.setObjectName("player")
        